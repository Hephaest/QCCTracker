目录
=================
* [简易企查查查询脚本](#简易企查查查询脚本)
    * [项目介绍](#项目介绍)
    * [Py 依赖](#Py-依赖)
    * [项目流程](#项目流程)
        * [验证登录](#验证登录)
        * [页面元素抓取](#页面元素抓取)
        * [数据库操作](#数据库操作)

# 简易企查查查询脚本
> 本脚本仅供学习交流，禁止用于任何商业用途！

## 项目介绍
通过给定的数据集，梳理各公司所属的投资机构的信息。

## Py 依赖
- requests >= 2.22.0
- selenium >= 3.141.0

## 项目流程
粗略分成三部分: 验证登录，页面元素抓取和数据库操作。

### 验证登录

企查查的滑动验证比较简单，使用的是输入手机号和密码的方式登录。虽然网上有免登的方式，但是拿到的信息有限且使用代理IP。

因为使用的是 selenium，发现企查查应该是有检测 `navigator.webdriver` 的。Chrome 的版本在 0.79.0 前还是可以稳定操作的。之后版本的 Chrome 修复了爬虫漏洞，我试过网上大佬们的各种骚方法，都没办法绕过安全验证。

滑动验证不需要技巧，因为人从识别到滑动的速度大概1到1秒半，快速划过就行。

### 页面元素抓取

企查查控频，1 分钟能抓 6 个就谢天谢地了。尽可能模拟人类正常的访问速度，15～20秒刷新页面即可，快了小心查水表。 爬多了系统很有可能会把你登出(还是看频率)，可能需要在 `try...catch` 里执行重新登录。

### 数据库操作

1 万条以下用 SQLite 就足够了。另外，SQLite 对于初级者来说，是最友好的，配置环境成本最低的。